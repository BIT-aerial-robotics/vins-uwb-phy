<launch>
    <arg name="sequence_1" default = "/home/f404/datacol/realsense/2024-01-17-14-01-27.bag" />
    <arg name="sequence_uwb" default = "/home/f404/datacol/realsense/uwb/2024-01-17-14-01-27.bag" />
    <arg name="sequence_est" default="/home/f404/output/uwb/real/est_uwb/lab1/err0.2_2024-04-18-15-41-32.bag" />
    <!-- <node name="vins_estimator_est_uwb" pkg="vins" type="est_uwb" output="screen"/> -->
    <group ns="ag1">
        <node name="vins_estimator" pkg="vins" type="vins_node" output="screen" args="/home/f404/catkin_tmp/src/VINS-Fusion/config/realsense_d435i_1_1944/realsense_stereo_imu_config.yaml"/>
    </group>
    <group ns="ag2">
        <node name="vins_estimator" pkg="vins" type="vins_node" output="screen" args="/home/f404/catkin_tmp/src/VINS-Fusion/config/realsense_d435i_2_6320/realsense_stereo_imu_config.yaml"/>
    </group>
    <group ns="ag3">
        <node name="vins_estimator" pkg="vins" type="vins_node" output="screen" args="/home/f404/catkin_tmp/src/VINS-Fusion/config/realsense_d435i_3_2454/realsense_stereo_imu_config.yaml"/>
    </group>

    <node pkg="rosbag" type="play" name="player" output="log" 
    args="$(arg sequence_1) -s 5 -r 0.2
    " />
    <node pkg="rosbag" type="play" name="player2" output="log" 
    args="$(arg sequence_uwb) -s 6 -r 0.2
    " />
    <!-- <node pkg="rosbag" type="play" name="player3" output="log" 
    args="$(arg sequence_est) delay 15
    " /> -->
    <!-- <node name="rvizvisualisation" pkg="rviz" type="rviz" output="log" args="-d /home/f404/catkin_ws/src/VINS-Fusion/config/multi_agent_rviz.rviz" /> -->
    <node pkg="rosbag" type="record" name="bag_record" output="log" args="
     /ag3/vins_estimator/imu_propagate /ag3/vins_estimator/imu_propagate_noworld  /vrpn_client_node/ag3/pose 
     /ag2/vins_estimator/imu_propagate /ag2/vins_estimator/imu_propagate_noworld  /vrpn_client_node/ag2/pose
    /ag1/vins_estimator/imu_propagate /ag1/vins_estimator/imu_propagate_noworld  /vrpn_client_node/ag1/pose
    /vrpn_client_node/ag0/pose
    /vrpn_client_node/ag0_Marker1/pose
    /vrpn_client_node/ag1_Marker1/pose
    /vrpn_client_node/ag2_Marker1/pose
    /vrpn_client_node/ag3_Marker1/pose
    /mavros/imu/data
    -o /home/f404/output/uwb/real/est_uwb/lab1/" />
    

    <!-- <node name="rvizvisualisation" pkg="rviz" type="rviz" output="log" 
    args="-d /home/f404/catkin_tmp/src/VINS-Fusion/config/multi_agent_rviz.rviz" /> -->
</launch>

<!-- /imuOne_1:=/vins_1/mavros/imu/data /cam1:=/vins_1/cam1 
    /imuOne_2:=/vins_2/mavros/imu/data /cam2:=/vins_2/cam2 
    /imuOne_3:=/vins_3/mavros/imu/data /cam3:=/vins_3/cam3
    /imuOne_0:=/mavros/imu/data -s 37 -->
